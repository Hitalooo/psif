{% extends 'layout.html' %}

{% block content %}

<div class="form-container">
    <form class="form-lancamento" method="post">
        <div class="form-row">
            <label>Planilha: <input type="number" name="id_planilha" required></label>
            <label>Participante: <input type="text" name="participante" required></label>
            <label>Descrição: <input type="text" name="descricao" required></label>
        </div>
        <div class="form-row">
            <label>Data: <input type="date" name="data" required></label>
            <label>Valor: <input type="number" name="valor" step="0.01" required></label>
        </div>
        <button type="submit" class="btn-adicionar">Adicionar</button>
    </form>
</div>

<div class="lancamentos-container">
    {% for l in lancamentos %}
    <div class="lancamento-card">
        <p>
            <strong>Planilha:</strong> {{ l.id_planilha }}<br>
            <strong>Participante:</strong> {{ l.participante }}<br>
            <strong>Descrição:</strong> {{ l.descricao }}<br>
            <strong>Data:</strong> {{ l.data }}<br>
            <strong>Valor:</strong> R$ {{ l.valor }}
        </p>
        <form action="{{ url_for('excluir_lancamento', id_lancamento=l.id) }}" method="post">
            <button type="submit" class="btn-excluir" onclick="return confirm('Tem certeza que deseja excluir este lançamento?')">Excluir</button>
        </form>
    </div>
    {% endfor %}
</div>

{% endblock %}
